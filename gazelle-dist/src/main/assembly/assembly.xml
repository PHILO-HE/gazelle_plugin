<assembly>
  <id>all-jar</id>
  <formats>
    <format>jar</format> <!-- the result is a jar file -->
  </formats>

  <includeBaseDirectory>false</includeBaseDirectory> <!-- strip the module prefixes -->

  <dependencySets>
    <dependencySet>
      <unpack>true</unpack> <!-- unpack , then repack the jars -->
      <useTransitiveDependencies>true</useTransitiveDependencies>
      <useTransitiveFiltering>true</useTransitiveFiltering>
      <excludes>
        <!--Exclude jars by specifying groupID:ArtifactID-->
        <exclude>com.intel.oap:spark-sql-columnar-shims-spark311</exclude>
        <exclude>com.intel.oap:spark-sql-columnar-shims-spark321</exclude>
        <exclude>com.fasterxml.jackson.core:jackson-databind</exclude>
        <exclude>com.fasterxml.jackson.core:jackson-annotations</exclude>
        <exclude>com.fasterxml.jackson.core:jackson-core</exclude>
      </excludes>
      <unpackOptions>
        <excludes>
          <exclude>META-INF/maven/com.fasterxml.jackson.core/</exclude>
          <exclude>META-INF/maven/com.fasterxml.jackson.dataformat/</exclude>
          <exclude>META-INF/services/com.fasterxml.jackson.core.ObjectCodec</exclude>
          <exclude>META-INF/services/com.fasterxml.jackson.core.JsonFactory</exclude>
        </excludes>
      </unpackOptions>
    </dependencySet>
  </dependencySets>
</assembly>
