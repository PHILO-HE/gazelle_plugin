<assembly>
  <id>all-jar</id>
  <formats>
    <format>jar</format> <!-- the result is a jar file -->
  </formats>

  <includeBaseDirectory>false</includeBaseDirectory> <!-- strip the module prefixes -->

  <dependencySets>
    <dependencySet>
      <unpack>true</unpack> <!-- unpack , then repack the jars -->
      <useTransitiveDependencies>true</useTransitiveDependencies>
      <useTransitiveFiltering>true</useTransitiveFiltering>
      <excludes>
        <!--Exclude jars by specifying groupID:ArtifactID-->
        <exclude>com.intel.oap:spark-arrow-datasource-common</exclude>
        <exclude>com.intel.oap:spark-arrow-datasource-parquet</exclude>
        <exclude>com.intel.oap:spark-arrow-datasource-standard</exclude>
        <exclude>com.intel.oap:spark-columnar-core</exclude>
        <exclude>com.intel.oap:spark-sql-columnar-shims-common</exclude>
        <exclude>com.fasterxml.jackson.core:jackson-databind</exclude>
        <exclude>com.fasterxml.jackson.core:jackson-annotations</exclude>
        <exclude>com.fasterxml.jackson.core:jackson-core</exclude>
      </excludes>
    </dependencySet>
  </dependencySets>
</assembly>